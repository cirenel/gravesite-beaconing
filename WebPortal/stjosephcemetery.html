<!DOCTYPE html>
<html>
  <head>
    <title>St. Joseph Cemetery</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 30.452403, lng: -91.173225},
          zoom: 19,
          minZoom: 17,
          streetViewControl:false,
          MapTypeId:'ROADMAP',
          backgroundColor:'#242f3e',
          styles: [
              {elementType: 'geometry', stylers: [{color: '#242f3e'}]},
              {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},
              {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},
              {
                featureType: 'administrative.locality',
                elementType: 'labels.text.fill',
                stylers: [{color: '#d59563'}]
              },
              {
                featureType: 'poi',
                elementType: 'labels.text.fill',
                stylers: [{color: '#d59563'}]
              },
              {
                featureType: 'poi.park',
                elementType: 'geometry',
                stylers: [{color: '#263c3f'}]
              },
              {
                featureType: 'poi.park',
                elementType: 'labels.text.fill',
                stylers: [{color: '#6b9a76'}]
              },
              {
                featureType: 'road',
                elementType: 'geometry',
                stylers: [{color: '#38414e'}]
              },
              {
                featureType: 'road',
                elementType: 'geometry.stroke',
                stylers: [{color: '#212a37'}]
              },
              {
                featureType: 'road',
                elementType: 'labels.text.fill',
                stylers: [{color: '#9ca5b3'}]
              },
              {
                featureType: 'road.highway',
                elementType: 'geometry',
                stylers: [{color: '#746855'}]
              },
              {
                featureType: 'road.highway',
                elementType: 'geometry.stroke',
                stylers: [{color: '#1f2835'}]
              },
              {
                featureType: 'road.highway',
                elementType: 'labels.text.fill',
                stylers: [{color: '#f3d19c'}]
              },
              {
                featureType: 'water',
                elementType: 'geometry',
                stylers: [{color: '#17263c'}]
              },
              {
                featureType: 'water',
                elementType: 'labels.text.fill',
                stylers: [{color: '#515c6d'}]
              },
              {
                featureType: 'water',
                elementType: 'labels.text.stroke',
                stylers: [{color: '#17263c'}]
              }
            ]
        });      
        
        var imageBounds = {
                north: 30.452888,
                south: 30.451935,
                east: -91.172156,
                west: -91.174300
              };

        historicalOverlay = new google.maps.GroundOverlay('bigmap.png',imageBounds, {clickable:false});
        historicalOverlay.setMap(map);
        
		map.data.loadGeoJson('graves.json');
		
		map.data.setStyle(function(feature) {
		    var fname = feature.getProperty('fname');
		    var lname = feature.getProperty('lname');
		    var titleinfo = fname+" "+lname+"\n Section:"+feature.getProperty('section')+" Plot:"+feature.getProperty('plot');
		    return {
		      title: titleinfo,
		      clickable:true,
		      icon: {url: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png" }                          
		    };
		});
		
		map.data.addListener('click', function(event) {
			console.log("here be the place to attach beacon lighting");			
		});

		//ONLY COMMENT THIS IN IF YOU ARE CLAIRE AND CHECKING YOUR COORDINATES 
/*		var infoWindow = new google.maps.InfoWindow(
	            {content: 'Click the map!', position: {lat: 30.452403, lng: -91.173225}});
	        infoWindow.open(map);
	        // Configure the click listener.
	        map.addListener('click', function(mapsMouseEvent) {
	          // Close the current InfoWindow.
	          infoWindow.close();
	          // Create a new InfoWindow.
	          infoWindow = new google.maps.InfoWindow({position: mapsMouseEvent.latLng});
	          infoWindow.setContent(mapsMouseEvent.latLng.toString());
	          infoWindow.open(map);
	        });
	*/	
      }
	  
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCA2-ne-wOiXN4shk0MQcbwY9pbjt5Ky3g&callback=initMap"></script>
  </body>
</html>